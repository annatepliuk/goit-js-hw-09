{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["//Helpers\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\n\nfunction getFromLS(key) {\n  try {\n    const jsonData = localStorage.getItem(key);\n    return jsonData ? JSON.parse(jsonData) : null;\n  } catch (error) {\n    console.error(\"Failed to parse data from localStorage:\", error);\n    return null;\n  }\n}\n\nconst formEl = document.querySelector(\".feedback-form\");\nlet formData =  { \n    email: \"\",\n    message: \"\" ,\n};\n\n//Restore form data on load\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  try {\n    const lsData = getFromLS(\"feedback-form-state\");\n    if (lsData) {\n      formData = {\n        email: lsData.email?.trim() || \"\",\n        message: lsData.message?.trim() || \"\"\n      };\n      formEl.elements.email.value = formData.email;\n      formEl.elements.message.value = formData.message;\n    }\n  } catch (error) {\n    console.error(\"Error restoring form data:\", error);\n  }\n});\n\n//Save input to localStorage without losing existing data\nformEl.addEventListener(\"input\", (e) => {\n  try {\n    const { name, value } = e.target;\n    formData[name] = value.trim(); \n    saveToLS(\"feedback-form-state\", formData); \n  } catch (error) {\n    console.error(\"Error handling input event:\", error);\n  }\n});\n\n// Handle form submit \nformEl.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  try {\n    const { email, message } = formData;\n\n    if (email === \"\" || message === \"\") {\n      alert(\"Fill please all fields\");\n      return;\n    }\n\n    console.log(formData);\n\n    localStorage.removeItem(\"feedback-form-state\");\n    formData = { email: \"\", message: \"\" };\n    formEl.reset();\n  } catch (error) {\n    console.error(\"Error during form submission:\", error);\n  }\n});\n"],"names":["saveToLS","key","value","jsonData","getFromLS","error","formEl","formData","lsData","_a","_b","e","name","email","message"],"mappings":"wFACA,SAASA,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAGA,SAASC,EAAUH,EAAK,CACtB,GAAI,CACF,MAAME,EAAW,aAAa,QAAQF,CAAG,EACzC,OAAOE,EAAW,KAAK,MAAMA,CAAQ,EAAI,IAC1C,OAAQE,EAAO,CACd,eAAQ,MAAM,0CAA2CA,CAAK,EACvD,IACR,CACH,CAEA,MAAMC,EAAS,SAAS,cAAc,gBAAgB,EACtD,IAAIC,EAAY,CACZ,MAAO,GACP,QAAS,EACb,EAGA,SAAS,iBAAiB,mBAAoB,IAAM,SAClD,GAAI,CACF,MAAMC,EAASJ,EAAU,qBAAqB,EAC1CI,IACFD,EAAW,CACT,QAAOE,EAAAD,EAAO,QAAP,YAAAC,EAAc,SAAU,GAC/B,UAASC,EAAAF,EAAO,UAAP,YAAAE,EAAgB,SAAU,EAC3C,EACMJ,EAAO,SAAS,MAAM,MAAQC,EAAS,MACvCD,EAAO,SAAS,QAAQ,MAAQC,EAAS,QAE5C,OAAQF,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,CAClD,CACH,CAAC,EAGDC,EAAO,iBAAiB,QAAUK,GAAM,CACtC,GAAI,CACF,KAAM,CAAE,KAAAC,EAAM,MAAAV,GAAUS,EAAE,OAC1BJ,EAASK,CAAI,EAAIV,EAAM,KAAI,EAC3BF,EAAS,sBAAuBO,CAAQ,CACzC,OAAQF,EAAO,CACd,QAAQ,MAAM,8BAA+BA,CAAK,CACnD,CACH,CAAC,EAGDC,EAAO,iBAAiB,SAAWK,GAAM,CACvCA,EAAE,eAAc,EAEhB,GAAI,CACF,KAAM,CAAE,MAAAE,EAAO,QAAAC,CAAS,EAAGP,EAE3B,GAAIM,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIP,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAC7CA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCD,EAAO,MAAK,CACb,OAAQD,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACrD,CACH,CAAC"}